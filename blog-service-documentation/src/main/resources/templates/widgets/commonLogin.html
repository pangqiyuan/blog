<header class="header" th:fragment="commonHeader" xmlns:th="http://www.w3.org/1999/xhtml">
    <nav class="navbar navbar-default" id="navbar">
        <div class="container">
            <div class="header-topbar hidden-xs link-border">
                <ul class="site-nav topmenu">
                    <li><a href="/tags">标签云</a></li>
                    <li><a th:href="@{/readers.html}" rel="nofollow">读者墙</a></li>
                    <li><a th:href="@{/links.html}" rel="nofollow">友情链接</a></li>
                    <!-- <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" rel="nofollow">关注本站 <span class="caret"></span></a> -->
                    <ul class="dropdown-menu header-topbar-dropdown-menu">
                        <li><a data-toggle="modal" data-target="#WeChat" rel="nofollow"><i class="fa fa-weixin"></i> 微信</a></li>
                        <li><a href="#" rel="nofollow"><i class="fa fa-weibo"></i> 微博</a></li>
                        <li><a data-toggle="modal" data-target="#areDeveloping" rel="nofollow"><i class="fa fa-rss"></i> RSS</a></li>
                    </ul>
                    </li>
                </ul>
                <!--        <a data-toggle="modal" data-target="#loginModal" class="login" rel="nofollow">Hi,请登录</a>&nbsp;&nbsp;<a href="javascript:;" class="register" rel="nofollow">我要注册</a>&nbsp;&nbsp;<a href="" rel="nofollow">找回密码</a> </div>-->

                <a href="/blog/user/login" title="用户登录" class="login" rel="nofollow" th:if="${session.blogUser == null}">Hi,请登录</a>&nbsp;&nbsp;
                <a href="/setting" title="用户名" class="login" rel="nofollow" th:unless="${session.blogUser == null}" th:text=" 'Hi,' + ${session.blogUser.getUserName()}"></a>&nbsp;&nbsp;
                <a href="/blog/user/register" class="register" rel="nofollow">我要注册</a>&nbsp;&nbsp;<a href="/blog/user/edit_password" rel="nofollow" th:if="${session.blogUser != null}">修改密码</a>&nbsp;<a href="/blog/user/logout" rel="nofollow" th:if="${session.blogUser != null}">退出登录</a> </div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-navbar" aria-expanded="false"> <span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                <h1 class="logo hvr-bounce-in"><a href="" title=""><img th:src="@{/images/logo.png}" alt=""></a></h1>
            </div>
            <div class="collapse navbar-collapse" id="header-navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden-index active"><a data-cont="首页" href="/">首页</a></li>
                    <li th:each = "mainTag : ${mainTags}"><a th:href="@{/blog/docByTag/{mainTag}(mainTag=${mainTag.name})}" th:text="${mainTag.name}"></a></li>
                </ul>
                <form class="navbar-form visible-xs" action="/Search" method="post">
                    <div class="input-group">
                        <input type="text" name="keyword" class="form-control" placeholder="请输入关键字" maxlength="20" autocomplete="off">
                        <span class="input-group-btn">
            <button class="btn btn-default btn-search" name="search" type="submit">搜索</button>
            </span> </div>
                </form>
            </div>
        </div>
    </nav>
</header>
